## 속도 줄이기
### 기존
![[스크린샷 2024-04-12 22.54.03.png]]
기존엔 출판사 별로 데이터를 불러오고 처리한 뒤에 역직렬화하는 함수 get_manga가 동기식이었다. 더군다나 이렇게 저장하고 다시 DB에서 불러올 때 수백 개의 데이터를 한꺼번에 불러오기 때문에 시간이 상당히 많이 소요됐다.
그래서 두 단계에 걸쳐 개선하기로 했다.
1. 비동기식으로 전환
2. 페이지네이션으로 한 페이지에 불러오는 데이터 양 줄이기
### 비동기식
함수의 로직은 다음과 같다.
* 반복문으로 출판사 별로 API를 요청하여 데이터 불러오기
* 반복문 안에서 데이터 처리
* 역직렬화
세 가지 로직을 하나의 함수에 담다 보니 쓸데 없이 함수가 길어졌다. 그래서 로직대로 함수를 분리하기 했다.
* 데이터 가져오는 함수
* 출판사 별로 데이터 처리 및 역직렬화·DB 저장